(this.webpackJsonpmockapideux=this.webpackJsonpmockapideux||[]).push([[0],{47:function(e,t,a){e.exports=a(63)},52:function(e,t,a){},53:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),c=(a(52),a(53),a(5)),s=a(8),u=a.n(s),m=a(18),i=a(9),p=a(10),h=a(12),d=a(11),E=a(71),y=a(72),f=a(17),v=a(41),b=a(66),j=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"render",value:function(){var e={color:"orange"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{lg:"2 p-0"},r.a.createElement(E.a,{bg:"dark",variant:"dark",className:"flex-column menuGauche"},r.a.createElement(b.a,null,r.a.createElement(E.a.Brand,{href:"/"},"Compagnie X")),r.a.createElement(y.a,{className:"flex-column"},r.a.createElement(f.c,{exact:!0,to:"/",activeStyle:e,className:"py-4"},"Accueil"),r.a.createElement(f.c,{to:"/ajouterEmployer",activeStyle:e},"Ajouter Employer"))),r.a.createElement("br",null)))}}]),a}(r.a.Component),g=a(73),k=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Body,null,r.a.createElement(f.b,{to:"Employers/"+this.props.id},r.a.createElement("h3",null,this.props.Prenom," ",this.props.Nom)))))}}]),a}(r.a.Component),x=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={donneesRecues:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3001/employers");case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,this.setState({donneesRecues:a}),t.ok){e.next=10;break}throw Error(t.statusText);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(b.a,{className:"m-0"},r.a.createElement(j,null),r.a.createElement(v.a,{lg:"10"},r.a.createElement(b.a,null,this.state.donneesRecues.map((function(e,t){return r.a.createElement(v.a,{lg:"2"},r.a.createElement(k,{Prenom:e.Prenom,Nom:e.Nom,id:e.id}))})))))}}]),a}(r.a.Component),O=a(16),w=a(67),N=a(70),I=a(68),C=a(69),P=a(23),D=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={photo:"",setErrors:{}},n.handleAdd=n.handleAdd.bind(Object(O.a)(n)),n.handlePhoto=n.handlePhoto.bind(Object(O.a)(n)),n.ajoutEmployer=n.ajoutEmployer.bind(Object(O.a)(n)),n}return Object(p.a)(a,[{key:"ajoutEmployer",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a,n,r,o){var l,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getID();case 3:return l=e.sent,e.next=6,fetch("http://localhost:3001/employers/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:l,Nom:t,Prenom:a,Fonction:n,Photo:r,Departement:o})});case 6:if(!(c=e.sent).ok){e.next=14;break}return e.next=10,c.json();case 10:return s=e.sent,this.props.history.push("/"),P.b.success("Ajout de "+a+" "+t),e.abrupt("return",s);case 14:throw new Error("Request failed!");case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,a,n,r,o){return e.apply(this,arguments)}}()},{key:"getID",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=0,e.next=4,fetch("http://localhost:3001/employers");case 4:return a=e.sent,e.next=7,a.json();case 7:for(n=e.sent,r=0;r<n.length;r++)n[r].id>t&&(t=n[r].id);if(a.ok){e.next=11;break}throw Error(a.statusText);case 11:return e.abrupt("return",t+1);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleAdd",value:function(e){e.preventDefault();var t=document.getElementById("nomEmployer").value,a=document.getElementById("prenomEmployer").value,n=document.getElementById("fonctionEmployer").value,r=document.getElementById("photoEmployer").value,o=document.getElementById("departementEmployer").value;this.ajoutEmployer(t,a,n,r,o)}},{key:"handlePhoto",value:function(e){var t=document.getElementById("photoEmployer").value;this.setState({photo:t})}},{key:"render",value:function(){return console.log(this.props.history),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Group,{controlId:"nomEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"Nom :"),r.a.createElement(N.a.Control,{type:"text",placeholder:"Entrer le nom"})),r.a.createElement(N.a.Group,{controlId:"prenomEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"Prenom :"),r.a.createElement(N.a.Control,{type:"text",placeholder:"Entrer le prenom"})),r.a.createElement(N.a.Group,{controlId:"fonctionEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"Fonction :"),r.a.createElement(N.a.Control,{type:"text",placeholder:"Entrer sa fonction"})),r.a.createElement(N.a.Group,{controlId:"photoEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"URL de sa photo"),r.a.createElement(N.a.Control,{type:"text",placeholder:"Entrer une URL valide",onBlur:this.handlePhoto})),""!==this.state.photo&&r.a.createElement(I.a,{src:this.state.photo,rounded:!0,width:"125"}),r.a.createElement(N.a.Group,{controlId:"departementEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"Departement :"),r.a.createElement(N.a.Control,{type:"text",placeholder:"Departement"})),r.a.createElement(C.a,{variant:"primary",type:"submit",onClick:this.handleAdd},"Enregistrer"))))))}}]),a}(r.a.Component),B=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"m-0"},r.a.createElement(j,null),r.a.createElement(v.a,{lg:"10"},r.a.createElement(D,{history:this.props.history}))))}}]),a}(r.a.Component),R=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://worldofvoz.files.wordpress.com/2020/01/http-error-404-not-found.png",width:"100%",height:"100%"}))}}]),a}(r.a.Component),S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={donneesRecues:{Nom:"",Prenom:"",Departement:"",Fonction:""}},n.modifierEmployer=n.modifierEmployer.bind(Object(O.a)(n)),n.handleEdit=n.handleEdit.bind(Object(O.a)(n)),n.handleDelete=n.handleDelete.bind(Object(O.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setState({pokemonID:this.props.match.params.id});case 3:return e.next=5,fetch("http://localhost:3001/employers/"+this.props.match.params.id);case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,this.setState({donneesRecues:a}),t.ok){e.next=12;break}throw Error(t.statusText);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"modifierEmployer",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a,n,r,o,l){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3001/employers/"+this.state.pokemonID,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,Nom:a,Prenom:n,Fonction:r,Photo:o,Departement:l})});case 3:if(!(c=e.sent).ok){e.next=11;break}return e.next=7,c.json();case 7:return s=e.sent,this.props.history.push("/"),P.b.warn("Modification de "+n+" "+a),e.abrupt("return",s);case 11:throw new Error("Request failed!");case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,a,n,r,o,l){return e.apply(this,arguments)}}()},{key:"handleEdit",value:function(e){e.preventDefault();var t=document.getElementById("nomEmployer").value,a=document.getElementById("prenomEmployer").value,n=document.getElementById("fonctionEmployer").value,r=document.getElementById("photoEmployer").value,o=document.getElementById("departementEmployer").value;this.modifierEmployer(t,a,n,r,o)}},{key:"handleDelete",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3001/employers/"+this.state.pokemonID,{method:"delete"});case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:return a=e.sent,console.log("SUPPRESSION!"),this.props.history.push("/"),P.b.error("Supression de l'employer "),e.abrupt("return",a);case 12:throw new Error("Request failed!");case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"m-0"},r.a.createElement(j,null),r.a.createElement(v.a,{lg:"10"},r.a.createElement(N.a,null,r.a.createElement(N.a.Group,{controlId:"nomEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"Nom :"),r.a.createElement(N.a.Control,{type:"text",defaultValue:this.state.donneesRecues.Nom})),r.a.createElement(N.a.Group,{controlId:"prenomEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"Prenom :"),r.a.createElement(N.a.Control,{type:"text",defaultValue:this.state.donneesRecues.Prenom})),r.a.createElement(N.a.Group,{controlId:"fonctionEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"Fonction :"),r.a.createElement(N.a.Control,{type:"text",defaultValue:this.state.donneesRecues.Fonction})),r.a.createElement(N.a.Group,{controlId:"photoEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"URL de sa photo"),r.a.createElement(N.a.Control,{type:"text",defaultValue:this.state.donneesRecues.Photo})),r.a.createElement(N.a.Group,{controlId:"departementEmployer"},r.a.createElement(N.a.Label,{className:"Jauner"},"Departement :"),r.a.createElement(N.a.Control,{type:"text",defaultValue:this.state.donneesRecues.Departement})),r.a.createElement(C.a,{variant:"primary",type:"submit",onClick:this.handleEdit},"Enregistrer"),r.a.createElement("h1",null,this.props.location.search.substring)),r.a.createElement("p",{className:"btn btn-danger mt-5",onClick:this.handleDelete},"Supprimer l'employer"))))}}]),a}(r.a.Component);a(61);var J=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{autoClose:3e3,hideProgressBar:!0}),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",exact:!0,component:x}),r.a.createElement(c.a,{path:"/ajouterEmployer",component:B}),r.a.createElement(c.a,{path:"/Employers/:id",component:S}),r.a.createElement(c.a,{component:R})))};a(62),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,null,r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.10a9ba47.chunk.js.map